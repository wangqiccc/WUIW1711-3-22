<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>jQuery小案例</title>
    <style>
        .demo{
            width: 100px;
            height: 100px;
            background: pink;
            line-height: 100px;
            text-align: center;
        }
        input{
            float: left;
        }

    </style>
</head>
<body>
<div class="demo">d</div>
<div class="demo">d</div>
<div class="demo">d</div>
<div id="n2"><p id="n1"></p><p></p></div>
<div class="lei">
    lzy
    <span>12</span>
    <span>13</span>
</div>
<div>
    <span>14</span>
    <span>15</span>
</div>
<span>14</span>
<h1>标题一</h1>
<h2>标题二</h2>
<div class="lei lei2">lzy</div>
<p class="cb">表单：</p>
<p class="cb1"></p>
<form action="">
    <input type="text" checked="checked" class="input1"><br>
    <input name="in1" selected="selected"><br>
    <input name="in2" checked="checked"><br>
    <input type="password" /><br>
    <input type="radio" /><br>
    <input type="checkbox" /><br>
    <input type="submit" /><br>
    <input type="image" /><br>
    <input type="reset" /><br>
    <input type="button" /><br>
    <input type="file" /><br>
    <button id="dinghua">Run</button><div></div><br>

</form>
<div style="width:700px;position:absolute;left:400px;top:700px">
    <div style="margin:50px;background-color:#FF9900">
        <p>点击下面的按钮</p>
     <div>
</div>
        <button>点击这里</button>
<form action="">
    <input type="text" name="new1" id="biaodan">
    <input type="text" name="new1dhdh">

</form>
        <br>
<ul>
    <li id="li1">1</li>
    <li>2</li>
    <li>3</li>
    <li>4</li>
    <li>5</li>
</ul>
<ul>
    <li>only</li>
</ul>
<a href="">a链接</a>
<table>
    <tr>
        <td>1</td>
        <td>2</td>
        <td>3</td>
        <td></td>
    </tr>
</table>
<p class="p1s"></p>
<script src="jquery-3.3.1.min.js"></script>
<!--关于页面操作的方法：HTML();css();addClass();removeClass()-->
<!--实现把宽高一致的内容为d的3个demo,宽依次变为100、200、300，内容改为do+各自索引值+1，类名变为test+索引值+1-->
<script>

    //JQuery中的html====>js里的innerHTML
    $(".demo").html();  //没有参数表示获取
    $(".demo").html("do");
    $(".demo").html(function(index,oldval){
        return oldval+(index+1);//给demo设置内容为index+1在加上旧值
    });

    //JQuery中的css====>js里的style,getcomputedstyle
    $(".demo").css("width");    //有3个demo，JQuery获取的都是第一个的
    $(".demo").css("background","skyblue");//设置demo的背景色
    $(".demo").css("width",function(index,oldval){  //将每个div的宽设为（索引值+1）*100
        return(index+1)*100;
    });
    $(".demo").css({    //一次设置多个属性
        color:"#f90",
        fontSize:"20px",
        textAlign:"center",
        lineHeight:"100px"
    })

    //JQuery中的addclass(),removeclass(),toggleclass()====>js里的classList,className
    console.log($(".demo").addClass(function(index,oldvalue){   //将demo的每个类名变为test+(自己的索引值+1)
        return "test"+(index+1);

    }));
    console.log($(".demo").removeClass(function(index,oldvalue){   //将demo的每个类名变为test+(自己的索引值+1)
        return "test"+(index+1);

    }));

</script>
<!--选择器-->
<script>
// 基本选择器
    console.log($("#n2"));   //#id      查找 ID 为"n2"的元素。
    console.log($("p"));   //element    查找一个p元素。
    console.log($(".lei"));   //.class      查找 类名 为"lei"的元素。
    console.log($("*"));   //*   匹配所有元素
    console.log($("div,span,p"));   //selector1,selector2,selectorN       找到匹配任意一个元素的类


//层级选择器
    console.log($("form input"));   //ancestor descendant（在给定的祖先元素下匹配所有的后代元素）      找到表单中所有的 input 元素
    console.log($("form>input"));   //parent > child （在给定的父元素下匹配所有的子元素）     找到表单中所有的子级input 元素
    console.log($("div+span"));   //prev + next      匹配所有跟在 div 后面的 span 元素
    console.log($("div~span"));   //prev ~ sibling      找到所有与div同辈的 span元素
//基本筛选器
    console.log($('li:first'));    //:first        获取li的第一个元素
    console.log($("input:not(:checked)"));    //:not(selector)     查找所有未选中的 input 元素
    console.log($("li:even"));    //:even     查找所有偶数的li
    console.log($("li:odd"));    //:odd    查找所有奇数的li
    console.log($("li:eq(1)"));    //:eq(index)      查找第二个li
    console.log($("li:gt(0)"));    //:gt(index)    查找第一个之后所有的li
    console.log($("p:lang(it)"));    //:lang   选择所有<P> 的语言属性:
    console.log($("li:last"));    // :last    获取最后一个li
    console.log($("li:eq(4)"));    //:lt(index)      查找第五个li之前所有的li
    console.log($(":header").css("background", "#EEE"));    // :header    给页面内所有标题加上背景色
    console.log($("#donghua").click(function(){              // :animated   对不在执行动画效果的元素执行一个动画特效
        $("div:not(:animated)").animate({ left: "+=20" }, 1000);
    }));
    console.log($(":root").css("background-color","lightyellow"));    //:root      设置<html>背景颜色为黄色
    //target方法：:文档的URI包含一个格式化的标识符，或hash，target选择器将匹配ID和标识符相匹配的元素
    //     例如： URI http://example.com/#foo， $( "p:target" )，将选择<p id="foo">元素。


//内容选择器
    console.log($("div:contains('lzy')"));    //:contains(text)   查找所有包含 "lzy" 的 div 元素
    console.log($("td:empty"));    //:empty   查找所有不包含子元素或者文本的空元素
    console.log($("div:has(p)").addClass("test"));    // :has(selector)     给所有包含 p 元素的 div 元素添加一个 text 类
    console.log($("td:parent"));    //:parent     查找所有含有子元素或者文本的 td 元素


//可见性
    console.log($("a:hidden"));    //:hidden  隐藏所有的a
    console.log($("tr:visible"));    //:hidden  查找所有可见的tr


//属性
    console.log($("div[id]"));    //[attribute]       查找所有含有 id 属性的 div 元素
    console.log($("input[name='in1']").attr("checked", true));    //[attribute=value]  查找所有 name 属性是 in1 的 input 元素
    console.log($("input[name!='in1']").attr("checked", true));    //[attribute!=value]  查找所有 name 属性不是 in1 的 input 元素
    console.log($("input[name^='new']"));    //[attribute^=value]       查找所有 name 以 'new' 开始的 input 元素
    console.log($("input[name$='dh']"));    //[attribute$=value]        查找所有 name 以 'dh' 结尾的 input 元素
    console.log($("input[name*='in']"));    //[attribute*=value]  查找所有 name 包含 'in' 的 input 元素
    console.log($("input[id][name$='1']"));    //[selector1][selector2][selectorN]        找到所有含有 id 属性，并且它的 name        属性是以 1 结尾的


//子元素
    console.log($("ul li:first-child"));    //:first-child      在每个 ul 中查找第一个 li
    console.log($("span:first-of-type"));    //:first-of-type    查找作为父元素的span类型子元素中的"长子"的span标签
    console.log($("ul li :last-child"));    // :last-child     在每个 ul 中查找最后一个 li
    console.log($("span:last-of-type"));    //::last-of-type     查找作为父元素的span类型子元素中最后一个span标签
    console.log($("ul li:nth-child(2)"));    //:nth-child     在每个 ul 中查找第二个 li
    console.log($("ul li:nth-last-child(2)"));    // :nth-last-child     在每个 ul 中查找倒数第二个 li
    console.log($("ul li:nth-last-of-type(2)"));    // :nth-last-of-type     在每个匹配的ul中查找倒数第二个li
    console.log($("ul li:nth-of-type(2)"));    //::nth-of-type     在每个 ul 中查找第一个 li
    console.log($("ul li:only-child"));    //:only-child      在 ul 中查找是唯一子元素的 li
    console.log($("ul li:only-of-type"));    //:only-of-type    选择所有没有兄弟元素，且具有相同的元素名称的元素。


//表单
    console.log($(":input"));    //:input    查找所有的input元素
    console.log($(":text"));    //:text      查找所有文本框
    console.log($(":password"));    //:password     查找所有密码框
    console.log($(":radio"));    //:radio      查找所有单选按钮
    console.log($(":checkbox"));    //:checkbox     查找所有复选框
    console.log($(":submit"));    //:submit     查找所有提交按钮
    console.log($(":image"));    //:image      匹配所有图像域
    console.log($(":reset"));    //:reset      查找所有重置按钮
    console.log($(":button"));    //:button      查找所有button按钮
    console.log($(":file"));    //:file      查找所有文件域


//表单对象属性
    console.log($("input:enabled"));    //:enabled      查找所有可用的input元素
    console.log($("input:disabled"));    //:disabled      查找所有不可用的input元素
    console.log($("input:checked"));    //:checked      查找所有选中的input元素
    console.log($("select option:selected"));    //:selected      查找所有选中的选项元素


//混淆选择器
    console.log($( "div" ).find( "." + $.escapeSelector( ".lei2" ) ));    //$.escapeSelector(selector)     选择出类中包含.lei2的div
</script>
<!--筛选-->
<script>

// 过滤
    console.log($("p").eq(1));   //eq(index|-index)     获取匹配的第二个p元素
    console.log($('li').first());   //first()    获取li第一个元素
    console.log($('li').last());   //last()     获取li最后一个元素
    console.log($("div").hasClass(".lei"));   //hasClass(class)      检查div是否含有某个特定的类，如果有，则返回true
    console.log($("p").filter(".n1"));   //filter(expr|obj|ele|fn)     保留带有n1类的元素
    console.log($("#n2"));   //is(expr|obj|ele|fn)      查找 ID 为"n2"的元素。
    console.log($("input[type='text']").parent().is("form"));   //is()      检查input元素的父元素是否是一个表单元素，是就返回true。
    console.log($(".cb").append( $(".input").map(function(){             //map(callback)     把form中的每个input元素的值建立一个列    表。
        return $(this).val();
    }).get().join(", ") ));
    console.log($('li').has('ul').css('background-color', 'red'));   // has(expr|ele)     给含有ul的li加上背景色
    console.log($("p").not( $(".p1s")[0] ));   //not(expr|ele|fn)      从p元素中删除带有 p1s类名的元素


//查找
    console.log($("div").children());   //children([expr])     查找DIV中的每个子元素。
    console.log($("li:first").closest(["ul"]));   //closest(expr|object|element)    从元素本身开始，逐级向上级元素匹配，并返回最先匹配   的元素
    console.log($("p").find("span"));   //find(expr|obj|ele)     获取匹配的第二个p元素
    console.log($("p").find("span"));   //eq(index|-index)   查找p下的span
    console.log($("p").next(".cb1"));   //next([expr])     查找p后面紧邻的同辈元素中类名为cb1的元素。
    console.log($("table:first").nextAll().addClass("after"));   //nextAll([expr])     给第一个table之后的所有元素加个类
    console.log($("#li1").nextUntil("#li3", "li").css("color", "green"));   // nextUntil([e|e][,f])     给#li1后面直到#li3前的元素   加上背景
    console.log($("button").click(function(){               //offsetParent()    可以设置p最近的父（祖先）元素的背景色。
        $("p").offsetParent().css("background-color","pink");
    }));
    console.log($("p").parent());   //parent([expr])   查找每个段落的父元素
    console.log($("span").parents());   //parents([expr])     找到每个span元素的所有祖先元素。
    console.log($('span').parentsUntil('.lei').css('background-color', 'lightyellow'));   //parentsUntil([e|e][,f])     查找span的祖先，      但不包括lei
    console.log($("p").prev());   //prev([expr])     找到每个段落紧邻的前一个同辈元素。
    console.log($("div:last").prevAll().addClass("before"));   //prevAll([expr])    给最后一个之前的所有div加上一个类
    console.log($("#li3").prevUntil("#li1", "li").css("color", "lightyellow"));   // nextUntil([e|e][,f])     给#li1后面直到#li3前的元素加    上背景
    console.log($("div").siblings(".lei"));   // siblings([expr])     找到每个div的同辈元素中带有类名lei的


//串联
    console.log($("p").add("a"));   // add(expr|ele|html|obj[,con])    给p中添加新元素a
    //console.log($("div").find("span").andSelf().addClass("xspan"));   // andSelf()    选取所有div以及内部的span，并加上xspan类名
    console.log($('li.li3').nextAll().addBack()
        .css('background-color', 'pink'));   // addBack()    给类名为li3的li之后的li加上背景色
    console.log($("p").contents().not("[nodeType=1]").wrap("<b/>"));   // contents()    往一个空框架中加些内容
    console.log($("p").find("span").end());   // end()    选取所有的p元素，查找并选取span子元素，然后再回过来选取p元素


</script>
</body>
</html>