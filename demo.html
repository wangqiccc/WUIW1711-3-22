<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>选择器 筛选</title>
</head>
<body>
<div id="demo">
    <h1>
        <h2>
            <h3></h3>
        </h2>
    </h1>
</div>
<div class="demo" lang="en">
    <p>你</p>
    <ul class="parent">
        <li>
           <p>好</p>
        </li>
        <li>
            <p>好</p>
        </li>
        <li>
            <p>好</p>
        </li>
        <li>
            <p>好</p>
        </li>
    </ul>
</div>
<span style="display: none"></span>
<span>可见</span><span>可见</span><span>可见</span>
<p>同辈</p>
<ul>
    <li>1</li>
    <li class="one">2</li>
    <li>3</li>
    <li>4</li>
    <li class="one">5</li>
    <li>6</li>
    <li>7</li>
    <li>8</li>
    <li class="one">9</li>
    <li>10</li>
</ul>
<ul>
    <li>1</li>
    <li class="one">2</li>
    <li>3</li>
    <li class="one">4</li>
    <li>5</li>
    <li>6</li>
    <li class="one">7</li>
    <li>8</li>
    <li>9</li>
    <li class="one">10</li>
</ul>
<ul>
    <li class="only"></li>
</ul>
<div></div><div></div><div></div><div></div><div></div>
<input type="text" autofocus class="text">
<button></button>
<form style="position:absolute">
    <input type="text" class="text"/>
    <input type="checkbox" class="checkbox"/>
    <input type="radio" class="radio"/>
    <input type="image" class="image"/>
    <input type="file" class="file"/>
    <input type="submit" class="submit"/>
    <input type="reset" class="reset"/>
    <input type="password" class="password"/>
    <input type="button" class="button"/>
    <input name="email" disabled="disabled" class="email"/>
    <input type="checkbox" name="newsletter" checked="checked" value="Daily" class="checkbox"/>
    <textarea></textarea>
    <button></button>
</form>
<select>
    <option value="1">Flowers</option>
    <option value="2" selected="selected">Gardens</option>
    <option value="3">Trees</option>
</select>
<div class="item"></div><div class="item"></div><div class="item"></div><div class="item"></div><div class="item"></div>
<script src="jquery-3.3.1.js"></script>
<script >

    //选择器
    {
        // 1.基本
        { // 根据给定的元素标签名匹配所有元素
            console.log($("div"));
            // 根据给定的ID匹配一个元素
            console.log($("#demo"));
            // 根据给定的css类名匹配元素
            console.log($(".demo"));
            // 匹配所有元素
            console.log($("*"));
            // 将每一个选择器匹配到的元素合并后一起返回
            console.log($("#demo,.demo,span,p"));
        }
        console.clear();

        // 2.层级
        {
            // 在给定的祖先元素下匹配所有的后代元素
            console.log($(".demo p"));
            // 在给定的父元素下匹配所有的子元素
            $(".parent>li").css("background", "red");
            // 匹配所有紧接在 demo p 元素后的 parent 元素
            $(".demo p+.parent").css("background", "blue");
            //匹配 demo 元素之后的所有 同辈p 元素
            console.log($(".demo~p"));
        }
        console.clear();

        // 3.基本筛选器
        {
        // :first  获取第一个元素
            console.log($("li:first"));
        // :not  排除与给定选择器相匹配的元素
            console.log($("li:not('.one')"));
        // :even   筛选所有索引值为偶数的元素，从 0 开始计数
            console.log($("li:even"));
        // :odd     筛选所有索引值为奇数的元素，从 1 开始计数
            console.log($("li:odd"));
        // :eq  筛选一个给定索引值的元素
            console.log($("li:eq(5)"));
        // :gt      筛选所有大于给定索引值的元素
            console.log($("li:gt(5)"));
            // :lt      筛选所有小于给定索引值的元素
            console.log($("li:gt(5)"));
        // :last
            console.log($("li:last"));
        // :header  筛选如 h1, h2, h3之类的标题元素
            console.log($(":header"));
        // :focus    筛选获取焦点的元素
            $( ":focus" ).css("background","yellow");
        // :root  选择整个文档的根元素
            $(":root").css("background","#ccc");
        }
        console.clear();

        //4.内容
        {
        //:contains()  查找内容
            console.log($("p:contains('好')"));
        //:empty  查找所有不包含子元素或者文本的空元素
            console.log($(":empty"));
        //:has()  查找匹配的元素做出相应操作
            console.log($("div:has('li')").addClass("has"));
        //:parent  查找含有子元素或者文本的元素
            console.log($(".has:parent"));
        }
        console.clear();

        //5.可见性
        {
            //:hidden  匹配所有不可见元素，或者type为hidden的元素
            console.log($("input:hidden "));
            // :visible  匹配所有的可见元素
            console.log($("span:visible "));
        }
        console.clear();

        //6.属性
        {
            //[attribute]   匹配包含给定属性的元素
            console.log($("li[class]"));
            //[attribute=value] 匹配给定的属性是某个特定值的元素
            console.log($("li[class='one']"));
            //[attribute!=value]    匹配所有不含有指定的属性，或者属性不等于特定值的元素
            console.log($("li[class!='one']"));
            //[attribute^=value]    匹配给定的属性是以某些值开始的元素
            console.log($("li[class^='o']"));
            //[attribute$=value]    匹配给定的属性是以某些值结尾的元素
            console.log($("li[class$='e']"));
            //[attribute*=value]    匹配给定的属性是以包含某些值的元素
            console.log($("input[type*='text']"));
            //[attrSel1][attrSel2][attrSelN]    复合属性选择器，需要同时满足多个条件时使用
            console.log($("li[class][class='one']"));
        }
        console.clear();

        //7.子元素
        {
        //:first-child      第一个子元素
            console.log($("ul li:first-child"));
        //:first-of-type    结构化伪类，匹配E的父元素的第一个E类型的孩子。等价于:nth-of-type(1) 选择器
            console.log($("div:first-of-type"));
        //:last-child   匹配最后一个子元素  :last 只匹配最后一个元素，而此选择符将为每个父元素匹配最后一个子元素
            console.log($("ul li:last-child"));
        //:last-of-type 结构化伪类，匹配E的父元素的最后一个E类型的孩子  大体的意思跟 :first-of-type差不多，只是一个是第一个元素，一个是最后一个元素
            console.log($("div:last-of-type"));
        //:nth-child    匹配其父元素下的第N个子或奇偶元素  :nth-child从1开始的
            console.log($("div:nth-child(2)"));
        //:nth-last-child() 选择所有他们父元素的倒数第n个子元素。计数从最后一个元素开始到第一个
            console.log($("ul li:nth-last-child(1)"));
        //:nth-last-of-type()   选择的所有他们的父级元素的第n个子元素，计数从最后一个元素到第一个
            console.log($("p:nth-last-of-type(1)"));
        //:nth-of-type()    查找每个这个元素，并且这个元素是所有这个元素的第n个
            console.log($("span:nth-of-type(1)"));
        //:only-child   查找的是唯一子元素
            console.log($("ul li:only-child"));
        //:only-of-type 选择所有没有兄弟元素，且具有相同的元素名称的元素。如果父元素有相同的元素名称的其他子元素，那么没有元素会被匹配
            console.log($(":only-of-type"));
        }
        console.clear();

        //8.表单
        {
        //:input    匹配所有 input, textarea, select 和 button 元素
            console.log($(":input"));
        //:text     匹配所有的单行文本框
            console.log($(":text"));
        //:password 匹配所有密码框
            console.log($(":password"));
        //:radio    匹配所有单选按钮
            console.log($(":radio"));
        //:checkbox     匹配所有复选框
            console.log($(":checkbox"));
        //:submit  匹配所有提交按钮
            console.log($(":submit"));
        //:image    匹配所有图像域
            console.log($(":image"));
        //:reset    匹配所有重置按钮
            console.log($(":reset"));
        //:button   匹配所有按钮
            console.log($(":button"));
        //:file 匹配所有文件域
            console.log($(":file"));
        }
        console.clear();

        //9.表单对象属性
        {
        //:enabled  匹配所有可用元素
            console.log($("input:enabled"));
        //:disabled 匹配所有不可用元素
            console.log($("input:disabled"));
        //:checked  匹配所有选中的被选中元素(复选框、单选框等，select中的option)，对于select元素来说，获取选中推荐使用 :selected
            console.log($("input:checked"));
        //:selected     匹配所有选中的option元素
            console.log($("select option:selected"));
        }
        console.clear();

        //10.混淆选择器
        {
            //$.escapeSelector(selector)    这个方法通常被用在类选择器或者ID选择器中包含一些CSS特殊字符的时候，这个方法基本上与CSS中CSS.escape()方法类似，唯一的区别是jquery中的这个方法支持所有浏览器
            console.log($("li").find("." + $.escapeSelector(".one")));
        }
        console.clear();

    }

    //筛选
    {
        //1.过滤
        {
            //eq() 指定
            $("ul>li")
                .eq(5)
                .css("background","pink");
            //first()  第一个
            $("ul>li")
                .first()
                .css("background","yellow");
            //last()  最后一个
            $("ul>li")
                .last()
                .css("background","blue");
            //hasClass()  检查当前的元素是否含有某个特定的类，如果有，则返回true
            console.log($("ul>li").hasClass("one"));
            //filter()筛选出与指定表达式匹配的元素集合
            console.log($("ul>li").filter("one"));
            //is(expr|obj|ele|fn)
                //根据选择器、DOM元素或 jQuery 对象来检测匹配元素集合，如果其中至少有一个元素符合这个给定的表达式就返回true。
                //如果没有元素符合，或者表达式无效，都返回'false'。 '''注意：'''在jQuery 1.3中才对所有表达式提供了支持。
                // 在先前版本中，如果提供了复杂的表达式，比如层级选择器（比如 + , ~ 和 > ），始终会返回true
                console.log($("input[type='checkbox']").parent().is("form"));
            //map(callback) 将一组元素转换成其他数组（不论是否是元素数组）
                console.log($("p").append( $("input").map(function(){
                    return $(this).val();
                }).get().join(", ") ));
            //has(expr|ele) 保留包含特定后代的元素，去掉那些不含有指定后代的元素
                console.log($('li').has('ul').css('background', 'red'));//给含有ul的li加上背景色
            //not(expr|ele|fn)  从匹配元素的集合中删除与指定表达式匹配的元素
                console.log($("div").not( $("#demo")[0] ));
            //slice(start,[end])    选取一个匹配的子集与原来的slice方法类似
                console.log($("p").slice(0, 1).wrapInner("<b></b>"));//选择第一个p元素
        }
        console.clear();

        //2.查找
        {
            //children([expr])取得一个包含匹配的元素集合中每一个元素的所有子元素的元素集合。
            //可以通过可选的表达式来过滤所匹配的子元素。注意：parents()将查找所有祖辈元素，
            //而children()只考虑子元素而不考虑所有后代元素
            console.log($("div").children());//查找div中的每个子元素
            //closest(e|o|e)1.7*    使用clostest查找多个元素
            console.log($("li:first").closest(["ul", "body"]));
            //find(e|o|e)   从所有的段落开始，进一步搜索下面的元素。与$("")相同
            console.log($("li").find("p"));
            //next([expr])  找到每个段落的后面紧邻的同辈元素
            console.log($("p").next());
            //nextAll([expr])   查找当前元素之后所有的同辈元素。可以用表达式过滤
            console.log($("div:first").nextAll().addClass("after"));
            //nextUntil([e|e][,f])  查找当前元素之后所有的同辈元素，直到遇到匹配的那个元素为止
            console.log();
            //offsetParent()    返回第一个匹配元素用于定位的父节点
            console.log($("button").click(function(){
                $("textarea").offsetParent().css("background-color","red");
            }));
            //parent([expr])    取得一个包含着所有匹配元素的唯一父元素的元素集合
            console.log($("p").parent());
            //parents([expr])   取得一个包含着所有匹配元素的祖先元素的元素集合（不包含根元素）。可以通过一个可选的表达式进行筛选
            console.log($("span").parents());
            //parentsUntil([e|e][,f])   查找当前元素的所有的父辈元素，直到遇到匹配的那个元素为止
            console.log($('li.one').parentsUntil('ul')
                .css('background-color', 'red'));
            //prev([expr])  找到每个段落紧邻的前一个同辈元素
            console.log($("p").prev());
            //prevAll([expr])   给最后一个之前的所有div加上一个类
            console.log($("div:last").prevAll().addClass("before"))
            //prevUntil([e|e][,f])  给...前面直到..前的元素加上红色背景
            console.log($('.one').prevUntil('li').css('background-color', 'red'));
            //siblings([expr])  找到每个div的所有同辈元素
            console.log($("div").siblings());
        }
        console.clear();

        //3.串联
        {
            //add(e|e|h|o[,c])1.9*  用于连接分别与两个表达式匹配的元素结果集
            console.log($("p").add("span"));
            //addBack()1.9+ 添加堆栈中元素集合到当前集合，一个选择性的过滤选择器
            console.log($('.one').nextAll().addBack().css('background-color', 'red'));
            //contents()    查找匹配元素内部所有的子节点（包括文本节点）。如果元素是一个iframe，则查找文档内容
            console.log($("p").contents().not("[nodeType=1]").wrap("<b/>"));
            //end() 回到最近的一个"破坏性"操作之前。即，将匹配的元素列表变为前一次的状态
            console.log($("p").find("span").end());

        }
    }

    // html  css addClass()  removeClass()
    {
        //获取元素
        $(".item").html();
            //设置内容
            $(".item").html("内容");//设置内容
        //遍历item
            $(".item").html(function(index,oldVal){
                    return oldVal+(index+1);
                });
        //给每一个item设置宽
            $(".item").css("width",function(index,oldVal){
                    return (index+1)*100;
                })
            //设置CSS
            $(".item").css({
                    color:"#fff",
                    fontSize:"18px",
                    textAlign:"center",
                    lineHeight:"100px",
                    background:"skyblue"
       });
        //给每一个item添加类名
            $(".item").addClass(function(index,oldVal){
                    return "test"+(index+1);
                });
        //给每一个item移除类名
            $(".item").removeClass(function(index,oldVal){
                    return "test"+(index+1);
                })
    }
</script>
</body>
</html>